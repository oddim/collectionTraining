using System;
using System.Collections.Generic;
using System.Linq;

namespace DinamicList
{
    internal class Program
    {
        static void Main(string[] args)
        {
            const string SumCommand = "sum";
            const string ExitCommand = "exit";
            const int SecondLine = 1;
            const int ThirdLine = 2;
            const int LastLine = 3;

            List<int> numbers = new List<int>();

            bool isRun = true;

            while (isRun)
            {
                Console.SetCursorPosition(0, LastLine);
                Console.WriteLine($"Для получения всех введенных чисел введите команду {SumCommand}, для выхода - {ExitCommand}");

                Console.SetCursorPosition(0, 0);
                Console.Write("Введите число для записи в массив:");
                string userInput = Console.ReadLine();

                Console.Clear();

                if (int.TryParse(userInput, out int numberInput))
                {
                    numbers.Add(numberInput);
                }
                else if (userInput == ExitCommand)
                {
                    isRun = false;
                }
                else if (userInput == SumCommand)
                {
                    GetSumNumbers(numbers, ThirdLine);      
                }

                Console.SetCursorPosition(0, SecondLine);
                Console.Write("Числа в массиве:");
                foreach (int i in numbers)
                    Console.Write(" " + i + ",");
            }
        }

        static void  GetSumNumbers (List<int> numbers, int ThirdLine)
        {
            int sumNumbers = 0;

            for (int i = 0; i < numbers.Count(); i++)
            {
                sumNumbers += numbers[i];
            }

            Console.SetCursorPosition(0, ThirdLine);
            Console.WriteLine("Сумма введенных чисел - " + sumNumbers);
        }
    }
}
